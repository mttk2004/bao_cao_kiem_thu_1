% Định nghĩa một kiểu cột mới cho phép xuống dòng và canh lề trái
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}

\section{Review file \texttt{Checkout.java}}

Bảng dưới đây tổng hợp các vấn đề được phát hiện trong file \texttt{Checkout.java}.


\begin{longtable}{L{1.5cm} L{3.5cm} c L{4cm} L{4cm}}
    \caption{Bảng review chi tiết cho file \texttt{Checkout.java}} \label{tab:review_Checkout_java} \\

    \toprule
    \textbf{Check code} & \textbf{Check code Description} & \textbf{Line} & \textbf{Comment} & \textbf{Suggestion / Fix} \\
    \midrule
    \endfirsthead

    \multicolumn{5}{c}%
    {{\tablename\ \thetable{} -- tiếp theo}} \\
    \toprule
    \textbf{Check code} & \textbf{Check code Description} & \textbf{Line} & \textbf{Comment} & \textbf{Suggestion / Fix} \\
    \midrule
    \endhead

    \bottomrule
    \endfoot

    \endlastfoot
    28 & Has an "\&" inadvertently been interchanged with a "\&\&" or a "|" for a "||"? & 34 & if (!firstname.isEmpty() \& !email.isEmpty() \& !address.isEmpty()...) & if (!firstname.isEmpty() \&\& !email.isEmpty() \&\& !address.isEmpty()...) \\
    \midrule
    19 & For every object or array reference: Is the value certain to be non-null? & 21 & firstname có thể null từ request.getParameter() & kiểm tra null trước: if (firstname != null \&\& !firstname.isEmpty()) \\
    \midrule
    15 & Is every method parameter value checked before being used? & 21-31 & tất cả parameters từ request không được validate null & thêm null check cho tất cả parameters \\
    \midrule
    37 & Are all exceptions handled appropriately? & 39-47 & cart.checkOut() có thể throw exception & thêm try-catch block \\
    \midrule
    19 & For every object or array reference: Is the value certain to be non-null? & 39 & cart có thể null từ session & kiểm tra null: if (cart != null) \\
    \midrule
    45 & Does every method, class, and file have an appropriate header comment? & 17 & class thiếu javadoc comment & thêm /** javadoc comment */ \\
    \midrule
    35 & Are null bodied control structures correct and marked with braces or comments? & 55 & doGet() method rỗng không có comment & thêm comment hoặc implementation \\
    \midrule
    54 & For each method: Is it no more than about 60 lines long? & 18-53 & method doPost() quá dài & chia thành các method nhỏ hơn \\
    \midrule
    12 & Do all attributes have appropriate access modifiers (private, protected, public)? & 17 & method doGet(), doPost() nên có @Override annotation & thêm @Override annotation \\
    \midrule
    4 & Does every method return the correct value at every method return point? & 12 & import SerialStruct không được sử dụng & xóa import không cần thiết \\
    \midrule
    61 & Are all variables properly defined with meaningful, consistent, and clear names? & 21-31 & tên biến không consistent (firstname vs cardname) & đổi thành firstName, cardName \\
    \midrule
    49 & Are all comments consistent with the code? & 32-33 & System.out.println() dùng để debug, không phù hợp production & sử dụng logger thay vì System.out.println() \\
\end{longtable}
